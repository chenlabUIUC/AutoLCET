# Description  
This code is used to extract the useful projections from the mrc movie to construct the tilt serise data ready for 3D reconstruction.  
# Getting started  
1. Download the "tilt series extraction example" folder.
2. The input data contains (a). An mrc movie captured by TIA (b). An xml file produced by TIA together with the movie containing the timestamps of the movie. (c). A csv file produced by the fast tomography Python script recording the current tilt angle at different time points. Here an example of (b) and (c) are included in this repo while (a) has to be downloaded at xxxx due to its very large size. The images in output folder are just place holders to keep the folder structure.  
3. Run tomoExtract_exp.m in MATLAB. It contains a few code blocks: (a) It is challenging to align the time in xml file (or the movie) and in the csv file containing the tilt angles. To do that one must identify the frame numbers in the movie before first few tilt event. You may open the mrc and record the frame numbers of your own data on line 8. The current values are for the example data. (b) We sample possible offset times to minimize the time difference between the time stamps of recorder frame numbers and times when tilt angles changes. (c) For better reconstruction we use the negative natural log of the data and subtract the background. In this step the background intensity is estimated. (d) This block substracts the background and saves negative natural log of each frame at each unique tilt angle. Meanwhile a csv file recording the tilt angle with the same length as the extracted tilt series is made.  
5. The results will be saved in folder "output".  
